(function(){"use strict";var i={7789:function(i,e,t){var s=t(5130),n=t(6768);const r={id:"app"};function o(i,e,t,s,o,a){const p=(0,n.g2)("FlappyBird");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(p)])}var a=t(4232);const p={key:0,class:"game-info"},h={key:1,class:"game-over"},l={class:"game-canvas",ref:"gameCanvas"},c={class:"score-display"};function d(i,e,t,r,o,d){return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["game-container",{active:o.isGameActive}]),ref:"gameContainer"},[o.isGameActive||o.gameOver?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",p,[e[2]||(e[2]=(0,n.Lk)("h1",null,"Flappy Bird",-1)),e[3]||(e[3]=(0,n.Lk)("p",null,"by 刘东升",-1)),(0,n.Lk)("button",{class:"start-button",onClick:e[0]||(e[0]=(...i)=>d.startGame&&d.startGame(...i))},"开始游戏"),e[4]||(e[4]=(0,n.Lk)("div",{class:"instructions"},[(0,n.Lk)("p",null,"手机：点击屏幕让小鸟飞翔"),(0,n.Lk)("p",null,"电脑：按空格键让小鸟飞翔")],-1))])),o.gameOver?((0,n.uX)(),(0,n.CE)("div",h,[e[5]||(e[5]=(0,n.Lk)("h2",null,"游戏结束",-1)),(0,n.Lk)("p",null,"您的得分："+(0,a.v_)(o.score),1),(0,n.Lk)("p",null,"最高分："+(0,a.v_)(o.highScore),1),(0,n.Lk)("button",{class:"restart-button",onClick:e[1]||(e[1]=(...i)=>d.resetGame&&d.resetGame(...i))},"再来一次")])):(0,n.Q3)("",!0),(0,n.bo)((0,n.Lk)("div",l,[(0,n.Lk)("div",{class:"bird",style:(0,a.Tr)(d.birdStyle),ref:"bird"},null,4),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.pipes,((i,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"pipe",style:(0,a.Tr)(d.pipeStyle(i))},e[6]||(e[6]=[(0,n.Lk)("div",{class:"pipe-top"},null,-1),(0,n.Lk)("div",{class:"pipe-gap"},null,-1),(0,n.Lk)("div",{class:"pipe-bottom"},null,-1)]),4)))),128)),e[7]||(e[7]=(0,n.Lk)("div",{class:"ground"},null,-1)),(0,n.Lk)("div",c,(0,a.v_)(o.score),1)],512),[[s.aG,o.isGameActive||o.gameOver]])],2)}t(4114),t(8111),t(2489),t(7588);var u={name:"FlappyBird",data(){return{isGameActive:!1,gameOver:!1,score:0,highScore:0,birdPosition:50,birdVelocity:0,gravity:.3,jumpStrength:-6,pipes:[],pipeWidth:60,pipeGap:150,pipeDistance:300,pipeSpeed:2,gameInterval:null,isMobile:!1}},computed:{birdStyle(){return{top:`${this.birdPosition}px`,transform:`rotate(${3*this.birdVelocity}deg)`}}},mounted(){this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.highScore=localStorage.getItem("flappyBirdHighScore")||0,this.isMobile||window.addEventListener("keydown",this.handleKeydown),this.$refs.gameContainer.addEventListener("click",this.handleJump),this.setGameSize(),window.addEventListener("resize",this.setGameSize)},beforeUnmount(){window.removeEventListener("keydown",this.handleKeydown),window.removeEventListener("resize",this.setGameSize),this.$refs.gameContainer&&this.$refs.gameContainer.removeEventListener("click",this.handleJump),this.stopGame()},methods:{setGameSize(){const i=this.$refs.gameContainer,e=Math.min(window.innerWidth-20,400),t=Math.min(window.innerHeight-20,600);i.style.width=`${e}px`,i.style.height=`${t}px`},startGame(){this.isGameActive=!0,this.gameOver=!1,this.score=0,this.birdPosition=50,this.birdVelocity=0,this.pipes=[],this.addPipe(),this.gameInterval=setInterval(this.gameLoop,16)},stopGame(){clearInterval(this.gameInterval),this.gameInterval=null,this.isGameActive=!1,this.gameOver=!0,this.score>this.highScore&&(this.highScore=this.score,localStorage.setItem("flappyBirdHighScore",this.highScore))},resetGame(){this.gameOver=!1,this.startGame()},gameLoop(){if(!this.isGameActive)return;this.birdVelocity+=this.gravity,this.birdPosition+=this.birdVelocity,this.checkCollisions(),this.updatePipes();const i=this.pipes[this.pipes.length-1];i&&this.$refs.gameCanvas.clientWidth-(i.position+this.pipeWidth)>this.pipeDistance&&this.addPipe(),this.cleanPipes()},addPipe(){const i=this.$refs.gameCanvas.clientHeight,e=50,t=i-e,s=50,n=t-this.pipeGap-s,r=Math.floor(Math.random()*(n-s)+s);this.pipes.push({position:this.$refs.gameCanvas.clientWidth,topHeight:r,passed:!1})},updatePipes(){this.pipes.forEach((i=>{i.position-=this.pipeSpeed;const e=80;!i.passed&&i.position+this.pipeWidth<e&&(i.passed=!0,this.score++,this.score%10===0&&this.score>0&&(this.pipeSpeed+=.2))}))},cleanPipes(){this.pipes=this.pipes.filter((i=>i.position>-this.pipeWidth))},checkCollisions(){const i=this.$refs.gameCanvas.clientHeight,e=30,t=50;if(this.birdPosition+e>i-t)return void this.stopGame();this.birdPosition<0&&(this.birdPosition=0,this.birdVelocity=0);const s=50,n=s+e,r=this.birdPosition,o=this.birdPosition+e;for(const a of this.pipes){const i=a.position,e=a.position+this.pipeWidth;if(n>i&&s<e&&(r<a.topHeight||o>a.topHeight+this.pipeGap))return void this.stopGame()}},handleKeydown(i){"Space"===i.code&&(i.preventDefault(),this.handleJump())},handleJump(){this.isGameActive||this.gameOver?this.isGameActive&&(this.birdVelocity=this.jumpStrength):this.startGame()},pipeStyle(i){return{left:`${i.position}px`,"--top-height":`${i.topHeight}px`,"--gap-height":`${this.pipeGap}px`}}}},v=t(1241);const m=(0,v.A)(u,[["render",d],["__scopeId","data-v-23254bd6"]]);var g=m,f={name:"App",components:{FlappyBird:g}};const b=(0,v.A)(f,[["render",o]]);var y=b;(0,s.Ef)(y).mount("#app")}},e={};function t(s){var n=e[s];if(void 0!==n)return n.exports;var r=e[s]={exports:{}};return i[s].call(r.exports,r,r.exports,t),r.exports}t.m=i,function(){var i=[];t.O=function(e,s,n,r){if(!s){var o=1/0;for(l=0;l<i.length;l++){s=i[l][0],n=i[l][1],r=i[l][2];for(var a=!0,p=0;p<s.length;p++)(!1&r||o>=r)&&Object.keys(t.O).every((function(i){return t.O[i](s[p])}))?s.splice(p--,1):(a=!1,r<o&&(o=r));if(a){i.splice(l--,1);var h=n();void 0!==h&&(e=h)}}return e}r=r||0;for(var l=i.length;l>0&&i[l-1][2]>r;l--)i[l]=i[l-1];i[l]=[s,n,r]}}(),function(){t.n=function(i){var e=i&&i.__esModule?function(){return i["default"]}:function(){return i};return t.d(e,{a:e}),e}}(),function(){t.d=function(i,e){for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"===typeof window)return window}}()}(),function(){t.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)}}(),function(){var i={524:0};t.O.j=function(e){return 0===i[e]};var e=function(e,s){var n,r,o=s[0],a=s[1],p=s[2],h=0;if(o.some((function(e){return 0!==i[e]}))){for(n in a)t.o(a,n)&&(t.m[n]=a[n]);if(p)var l=p(t)}for(e&&e(s);h<o.length;h++)r=o[h],t.o(i,r)&&i[r]&&i[r][0](),i[r]=0;return t.O(l)},s=self["webpackChunkgdlds_github_io"]=self["webpackChunkgdlds_github_io"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],(function(){return t(7789)}));s=t.O(s)})();
//# sourceMappingURL=app.0afee1a6.js.map